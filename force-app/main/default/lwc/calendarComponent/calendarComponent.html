<template>
  <div class="calendar-container fullscreen-calendar">
    <c-calendar-controls
      current-date={currentDate}
      show-edit-button="true"
      show-add-button="true"
      enable-search="true"
      edit-button-label="Edit"
      add-button-label="Add event"
      search-placeholder="Search"
      search-suggestions={searchSuggestions}
      has-custom-actions={hasCustomActions}
      onpreviousmonth={handlePreviousMonth}
      onnextmonth={handleNextMonth}
      ongotoday={handleGoToToday}
      oneditclick={handleEditClick}
      onaddeventclick={handleAddEventClick}
      onsearchchange={handleSearchChange}
      onsearchinput={handleSearchInput}
      onsearchclear={handleSearchClear}
      onsuggestionselect={handleSuggestionSelect}
    ></c-calendar-controls>

    <c-calendar-grid
      calendar-days={calendarDays}
      calendar-weeks={calendarWeeks}
      ondateclick={handleDateClick}
      oneditevent={handleEditEvent}
      ondeleteevent={handleDeleteEvent}
    ></c-calendar-grid>

    <template if:true={showEditPopup}>
      <c-edit-event-popup
        show={showEditPopup}
        position={editPopupPosition}
        onsubmit={handleEditPopupSubmit}
        onclose={handleEditPopupClose}
        oneditevent={handleEditPopupEditEvent}
        ondeleteevent={handleEditPopupDeleteEvent}
      ></c-edit-event-popup>
    </template>

    <template if:true={showEventPopup}>
      <c-event-popup
        show={showEventPopup}
        position={popupPosition}
        event-data={currentEventData}
        onsave={handleEventPopupSave}
        ondelete={handleEventPopupDelete}
        onclose={handleEventPopupClose}
      ></c-event-popup>
    </template>
  </div>
</template>
