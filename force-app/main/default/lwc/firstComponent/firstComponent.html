<template>
    <lightning-card title="Calendar">
        
        <div class="calendar-header">
            <lightning-button-icon icon-name="utility:chevronleft" onclick={previousMonth}></lightning-button-icon>
            <h2>{monthName} {year}</h2>
            <lightning-button-icon icon-name="utility:chevronright" onclick={nextMonth}></lightning-button-icon>
        </div>

        <div class="weekday-header">
            <template for:each={weekdayNames} for:item="day">
                <div key={day} class="weekday">{day}</div>
            </template>
        </div>        

        <div class="calendar-grid">
            <template for:each={days} for:item="day">
                <div key={day.dateKey} class={day.className} onclick={handleDateClick}>
                    <p>{day.date}</p>
                    <template if:true={day.event}>
                        <div class="event">{day.event.title}</div>
                    </template>
                </div>
            </template>
        </div>

        <template if:true={selectedEvent}>
            <section class="event-details">
                <h3>{selectedEvent.title}</h3>
                <p>{selectedEvent.date}</p>
                <p>Participants: {selectedEvent.participants}</p>
                <lightning-button label="Delete Event" onclick={deleteEvent}></lightning-button>
            </section>
        </template>
    </lightning-card>
</template>